<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Apresentação em PDF</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</head>
<body>

<h1>Gerador de Apresentação em PDF</h1>

<label for="topic">Tópico:</label>
<input type="text" id="topic" placeholder="Digite o tópico">

<button onclick="gerarApresentacao()">Gerar Apresentação</button>

<script>
  function gerarApresentacao() {
    const topic = document.getElementById('topic').value;

    // Verifica se o tópico foi fornecido
    if (!topic) {
      alert('Por favor, forneça um tópico.');
      return;
    }

    // Substitua 'SUA_CHAVE_DE_API_AQUI' pela sua chave de API válida do Open Search
    const apiKey = 'SUA_CHAVE_DE_API_AQUI';

    // Realiza uma solicitação HTTP para a API do Open Search
    fetch(`https://api.opensearch.org/v1/search?q=${topic}&api_key=${apiKey}`, {
      method: 'GET',
    })
      .then(response => response.json())
      .then(data => {
        // Extrai informações da resposta da API (ajuste conforme necessário)
        const results = data.hits.hits.map(hit => hit._source.text);

        // Cria um novo PDF com jsPDF
        const pdf = new jsPDF();
        pdf.text(20, 20, `Tópico: ${topic}`);
        pdf.text(20, 30, 'Informações Obtidas Automaticamente:');
        results.forEach((result, index) => {
          pdf.text(20, 40 + index * 10, result);
        });

        // Salva o PDF como um arquivo
        pdf.save(`${topic}_apresentacao.pdf`);
      })
      .catch(error => {
        console.error('Erro ao obter informações da web:', error);
        alert('Erro ao obter informações da web. Tente novamente mais tarde.');
      });
  }
</script>

</body>
</html>
